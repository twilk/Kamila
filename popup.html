<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kamila</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container-fluid">
        <div id="language-switcher" class="d-flex justify-content-start p-2">
            <span class="flag" data-lang="polish" title="Polski">üáµüá±</span>
            <span class="flag" data-lang="english" title="English">üá¨üáß</span>
            <span class="flag" data-lang="ukrainian" title="–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞">üá∫üá¶</span>
        </div>

        <header class="text-center py-2">
            <h6 id="welcome-message" class="text-muted">Witaj w inteligentnym asystencie Kamila!</h6>
        </header>

        <div class="row">
            <div class="col-2" id="side-panel">
                <div class="lead-status" data-bs-toggle="tooltip" title="Z≈Ço≈ºone">
                    üì§ <span class="lead-count" id="count-submitted">-</span>
                </div>
                <div class="lead-status" data-bs-toggle="tooltip" title="Potwierdzone przez Klienta">
                    ‚úÖ <span class="lead-count" id="count-confirmed">-</span>
                </div>
                <div class="lead-status" data-bs-toggle="tooltip" title="Przyjƒôte do realizacji">
                    üì¶ <span class="lead-count" id="count-accepted">-</span>
                </div>
                <div class="lead-status" data-bs-toggle="tooltip" title="Gotowe do odbioru">
                    üì¨ <span class="lead-count" id="count-ready">-</span>
                </div>
                <div class="lead-status" data-bs-toggle="tooltip" title="Zaleg≈Çe">
                    ‚è≥ <span class="lead-count" id="count-overdue">-</span>
                </div>
            </div>

            <div class="col-10">
                <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#chat" type="button">Chat</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#settings" type="button">Ustawienia</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#about" type="button">About</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" id="nav-status-tab" data-bs-toggle="tab" data-bs-target="#nav-status" type="button" role="tab">
                            Status
                        </button>
                    </li>
                </ul>

                <div class="tab-content p-3">
                    <div class="tab-pane fade show active" id="chat">
                        <label for="query">Twoje zapytanie:</label>
                        <input type="text" id="query" class="form-control" placeholder="Wpisz swoje pytanie...">
                        <button id="send" class="btn btn-primary mt-2">Wy≈õlij</button>
                        <div id="response" class="mt-3"></div>
                    </div>

                    <div class="tab-pane fade" id="settings">
                        <h5>Ustawienia</h5>
                        
                        <!-- Motyw -->
                        <div class="settings-section">
                            <h6>Motyw</h6>
                            <div class="form-check">
                                <input type="radio" class="form-check-input" name="theme" value="light" checked>
                                <label class="form-check-label">Jasny motyw</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" class="form-check-input" name="theme" value="dark">
                                <label class="form-check-label">Ciemny motyw</label>
                            </div>
                        </div>

                        <!-- T≈Ço -->
                        <div class="settings-section mt-4">
                            <h6>T≈Ço</h6>
                            <div class="wallpapers-grid" id="wallpapers-grid">
                                <!-- Domy≈õlne t≈Ço -->
                                <div class="wallpaper-item">
                                    <div class="wallpaper-preview default-wallpaper" data-wallpaper="default">
                                        <span>Domy≈õlne</span>
                                    </div>
                                </div>
                                <!-- Dynamicznie dodawane tapety -->
                            </div>
                            
                            <!-- Upload w≈Çasnej tapety -->
                            <div class="custom-wallpaper mt-3">
                                <label for="wallpaper-upload" class="btn btn-outline-primary">
                                    <i class="fas fa-upload"></i> Dodaj w≈ÇasnƒÖ tapetƒô
                                </label>
                                <input type="file" id="wallpaper-upload" accept="image/*" class="d-none">
                                <small class="text-muted d-block mt-1">Maksymalny rozmiar: 2MB, Zalecane wymiary: 800x600px</small>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="about">
                        <h5>O aplikacji</h5>
                        <p>Tw√≥rca: Tomasz Wilk</p>
                        <p>Cel: Automatyzacja proces√≥w obs≈Çugi klienta i zarzƒÖdzania zam√≥wieniami w Darwin.pl</p>
                        <p id="version">Wersja: 1.0.0</p>
                        <div class="mt-3">
                            <button id="update-button" class="btn btn-success">üöÄ Sprawd≈∫ aktualizacje</button>
                            <button id="instructions-button" class="btn btn-info ms-2">üìã Instrukcja</button>
                        </div>
                        <div id="instructions" class="mt-3 d-none"></div>
                    </div>

                    <div class="tab-pane fade" id="nav-status" role="tabpanel">
                        <div class="p-3">
                            <h5>Status us≈Çug</h5>
                            <div class="services-status">
                                <div class="service-item">
                                    <span class="status-dot" id="api-status"></span>
                                    <span class="service-name">API Selly</span>
                                </div>
                                <div class="service-item">
                                    <span class="status-dot" id="auth-status"></span>
                                    <span class="service-name">Autoryzacja</span>
                                </div>
                                <div class="service-item">
                                    <span class="status-dot" id="orders-status"></span>
                                    <span class="service-name">Zam√≥wienia</span>
                                </div>
                                <div class="service-item">
                                    <span class="status-dot" id="cache-status"></span>
                                    <span class="service-name">Cache</span>
                                </div>
                            </div>
                            <div class="status-legend mt-4">
                                <div class="legend-item">
                                    <span class="status-dot status-green"></span>
                                    <span>Dzia≈Ça poprawnie</span>
                                </div>
                                <div class="legend-item">
                                    <span class="status-dot status-yellow"></span>
                                    <span>WystƒôpujƒÖ problemy</span>
                                </div>
                                <div class="legend-item">
                                    <span class="status-dot status-red"></span>
                                    <span>Nie dzia≈Ça</span>
                                </div>
                            </div>
                            <div class="d-flex gap-2 mt-3">
                                <button id="run-tests" class="btn btn-secondary">
                                    üîç Wykonaj testy
                                </button>
                                <button id="check-status" class="btn btn-primary">
                                    üîÑ Od≈õwie≈º status
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="leadDetailsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Szczeg√≥≈Çy zam√≥wie≈Ñ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="leadDetailsList"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="updateModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Dostƒôpna aktualizacja</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>Dostƒôpna jest nowa wersja <strong id="updateVersion"></strong></p>
                    <div id="updateNotes" class="mt-3"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancelUpdate">Anuluj</button>
                    <button type="button" class="btn btn-primary" id="confirmUpdate">Aktualizuj</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="instructionsModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Instrukcja aktualizacji</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <ol>
                        <li>Rozpakuj pobrany plik ZIP</li>
                        <li>Przejd≈∫ do chrome://extensions/</li>
                        <li>Usu≈Ñ obecnƒÖ wersjƒô Kamili</li>
                        <li>W≈ÇƒÖcz tryb programisty</li>
                        <li>Kliknij "Za≈Çaduj rozpakowane"</li>
                        <li>Wska≈º folder z nowƒÖ wersjƒÖ</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="popup.js"></script>
</body>
</html>
